GetUsers:
  handler: dist/identity/infrastructure/adapter/input/handlers/get-users.handler
  name: ${self:service}-${self:provider.stage}-getUsers
  environment:
    DYNAMODB_TABLE: { "Ref": "UserTable"}

AddUser:
  handler: dist/identity/infrastructure/adapter/input/handlers/add-user.handler
  name: ${self:service}-${self:provider.stage}-addUser
  environment:
    DYNAMODB_TABLE: { "Ref": "UserTable"}
    JWT_SECRET: "Tel@-Vermelh@-pet"

ActivateUser:
  handler: dist/identity/infrastructure/adapter/input/handlers/activate-user.handler
  name: ${self:service}-${self:provider.stage}-activateUser
  environment:
    DYNAMODB_TABLE: { "Ref": "UserTable"}
    JWT_SECRET: "Tel@-Vermelh@-pet"

UpdateQuotaUser:
  handler: dist/identity/infrastructure/adapter/input/handlers/update-quota-user.handler
  name: ${self:service}-${self:provider.stage}-update-quota-user
  environment:
    DYNAMODB_TABLE: { "Ref": "UserTable"}
    JWT_SECRET: "Tel@-Vermelh@-pet"

Login:
  handler: dist/identity/infrastructure/adapter/input/handlers/login.handler
  name: ${self:service}-${self:provider.stage}-login
  environment:
    DYNAMODB_TABLE: { "Ref": "UserTable"}
    JWT_SECRET: "Tel@-Vermelh@-pet"

Authorizer:
  handler: dist/identity/infrastructure/adapter/input/handlers/authorizer.handler
  name: ${self:service}-${self:provider.stage}-authorizer
  vpc:
    securityGroupIds:
      - sg-076416d2ec61e48b2
    subnetIds:
      - subnet-09d5cac19c3d5da6a
  environment:
    JWT_SECRET: "Tel@-Vermelh@-pet"
    DYNAMODB_TABLE: { "Ref": "UserTable"}
    REDIS_HOST: ${file(./ymls/environment.yml):REDIS_HOST}
    REDIS_PORT: ${file(./ymls/environment.yml):REDIS_PORT}
    EXPIRATION_TIME: ${file(./ymls/environment.yml):EXPIRATION_TIME}
